{"version":3,"sources":["components/Header.js","utils/soundPlayerManager.js","components/Icon.js","components/PlayButton.js","utils/timeFormatter.js","components/SoundPlayer.js","pages/SongPage.js","pages/Main.js","components/AppShell.js","App.js","serviceWorker.js","index.js"],"names":["children","Header","styled","h1","currentTrackMetadata","setCurrentTrackMetadata","item","newCurrentTrackMetadata","itemId","id","soundPlayer","soundPlayerRef","current","activeItem","src","load","play","ended","paused","pause","activeItemId","iconSize","css","props","medium","getIconSrc","name","closeIcon","close","span","PlayButton","setSongPage","useContext","CurrentTrackContext","PlayButtonStyle","onClick","prev","isActive","Icon","soundPlayerManager","div","twoDigitsTime","t","String","duration","timeText","currentTime","Math","floor","hours","getHour","minutes","getMinutes","seconds","response","useState","setCurrentTime","useEffect","interval","setInterval","timeFormatter","clearInterval","title","SoundPlayer","Song","songPage","SongStyle","className","description","createContext","CurrentTrackProvider","useRef","Audio","Provider","value","Main","songs","data","map","song","key","createGlobalStyle","App","AppShell","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f65c542f.chunk.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nexport default function ({ children }) {\n  return <Header>{children}</Header>;\n}\n\nconst Header = styled.h1`\n  text-align: center;\n  font-size: 3rem;\n  padding: 1rem;\n  background-color: #730202;\n`;","export default {\n  toggleSoundTrack: function (currentTrackMetadata, setCurrentTrackMetadata, item = null) {//item null means soundPlayer fired this function\n    const newCurrentTrackMetadata = { ...currentTrackMetadata };\n    const itemId = item ? +item.id : null;\n    const soundPlayer = newCurrentTrackMetadata.soundPlayerRef.current;\n    if (itemId && currentTrackMetadata.activeItem.id !== itemId) {\n      newCurrentTrackMetadata.activeItem = item;\n      soundPlayer.src = `./assets/audios/${item.src}`;\n      soundPlayer.load();\n      soundPlayer.play();\n    } else {//soundPlayer or list\n      newCurrentTrackMetadata.activeItem = item ? item : newCurrentTrackMetadata.activeItem;\n      //check if it started\n      if (!soundPlayer.ended && soundPlayer.paused) {//not played yet --> playing\n        soundPlayer.play();\n      } else if (!soundPlayer.ended && !soundPlayer.paused) {//playing --> pause\n        soundPlayer.pause();\n      }\n      else if (soundPlayer.ended && soundPlayer.paused) { //ended --> not played yet\n        soundPlayer.src = `./assets/audios/${item.src}`;\n        soundPlayer.load();\n      }\n    }\n    setCurrentTrackMetadata({ ...newCurrentTrackMetadata });\n  },\n\n  isPlayIcon: function (activeItemId, paused, itemId) {\n    if (itemId !== activeItemId) return true; //when soundTrack is not being played\n    return paused; //when soundTrack is active, check if its paused\n  }\n}","import styled, { css } from 'styled-components';\n\nconst iconSize = css`\n  width: ${props => props.medium ? `6rem` : `4.5rem`};\n  height: ${props => props.medium ? `6rem` : `4.5rem`};\n`;\n\nconst getIconSrc = css`\n${({ name }) => {\n    return `background-image: url(./assets/${name}.svg);`\n  }}\n`;\n\nconst closeIcon = css`\n${ ({ close }) => {\n    return close ? `\n    position: absolute;\n    top: 12px;\n    right: 10px;\n  ` : '';\n  }}\n`;\n\nexport default styled.span`\n  ${iconSize}\n  display: inline-block;\n  background-size: cover;\n  ${getIconSrc}\n  ${closeIcon}\n`;","import React, { useContext } from 'react';\nimport { CurrentTrackContext } from '../pages/Main';\nimport soundPlayerManager from '../utils/soundPlayerManager';\nimport styled from 'styled-components';\nimport Icon from './Icon';\n\nexport default function PlayButton({ setSongPage, item, children }) {\n  const { currentTrackMetadata, setCurrentTrackMetadata } = useContext(CurrentTrackContext);\n  const { activeItem, soundPlayerRef } = currentTrackMetadata;\n  return <PlayButtonStyle\n    onClick={() => setSongPage(prev => ({ item: item, isActive: !prev.isActive }))}>\n    <Icon onClick={() => soundPlayerManager.toggleSoundTrack(currentTrackMetadata, setCurrentTrackMetadata, item)}\n      name={soundPlayerManager.isPlayIcon(activeItem.id, soundPlayerRef.current.paused, item.id) ? 'playIcon' : 'iconPause'}\n    />\n    {children}\n  </PlayButtonStyle>\n}\n\nconst PlayButtonStyle = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #F2B731;\n  font-size: 2rem;\n  text-align: center;\n  margin: 3rem 2rem;\n  margin-bottom: 0;\n  padding: 1.5rem 0;\n  border: .1rem solid;\n\n  span {\n    margin-right: 1rem;\n  }\n`;","const SECONDTOMINUTES = 60;\nconst SECONDTOHOURS = 3600;\n\nconst getHour = (t) => Math.floor(t / SECONDTOHOURS);\nconst getMinutes = (t) => Math.floor(t / SECONDTOMINUTES);\nconst textToTime = (t) => Math.floor(+t);\nconst twoDigitsTime = (t) => t >= 10 ? String(t) : `0${t}`;\n\nexport default function (duration, timeText) {\n  let currentTime = textToTime(timeText);\n  const hours = getHour(currentTime);\n  currentTime -= hours * SECONDTOHOURS;\n  const minutes = getMinutes(currentTime);\n  currentTime -= minutes * SECONDTOMINUTES;\n  const seconds = currentTime;\n  let response = `${twoDigitsTime(hours)}:${twoDigitsTime(minutes)}:${twoDigitsTime(seconds)}`;\n  if (duration < SECONDTOHOURS) {\n    response = `${twoDigitsTime(minutes)}:${twoDigitsTime(seconds)}`;\n  }\n\n  return response;\n}","import React, { useContext, useState, useEffect } from 'react';\nimport { CurrentTrackContext } from '../pages/Main';\nimport soundPlayerManager from '../utils/soundPlayerManager';\nimport timeFormatter from '../utils/timeFormatter';\nimport styled from 'styled-components';\nimport Icon from './Icon';\n\nexport default function () {\n  const { currentTrackMetadata, setCurrentTrackMetadata } = useContext(CurrentTrackContext);\n  const [currentTime, setCurrentTime] = useState(currentTrackMetadata.soundPlayerRef.current.currentTime);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(timeFormatter(currentTrackMetadata.soundPlayerRef.current.duration, currentTrackMetadata.soundPlayerRef.current.currentTime));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [currentTrackMetadata.soundPlayerRef]);\n\n  return <SoundPlayer>\n    <Icon onClick={() => soundPlayerManager.toggleSoundTrack(currentTrackMetadata, setCurrentTrackMetadata)} name={currentTrackMetadata.soundPlayerRef.current.paused ? 'playIcon--white' : 'iconPause--white'} />\n    <span>{currentTrackMetadata.activeItem.title}</span>\n    <span>{currentTime}</span>\n  </SoundPlayer>\n}\n\nconst SoundPlayer = styled.div`\n  display: flex;\n  flex-flow: row no-wrap;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n\n  background-color: #690101;\n  color: #F2F2F2;\n  justify-content: space-between;\n  padding: 3% 5%;\n  font-size: 2.4rem;\n`;","import React from 'react';\nimport styled from 'styled-components';\nimport Header from '../components/Header';\nimport SoundPlayer from '../components/SoundPlayer';\nimport Icon from '../components/Icon';\n\nexport default function Song({ songPage, setSongPage }) {\n  return <SongStyle isActive={songPage.isActive}>\n    <Header> {songPage.item.title} </Header>\n    <Icon close={true} className='topRight'\n      onClick={() => setSongPage(prev => ({ ...prev, isActive: !prev.isActive }))}\n      name={'iconClose--white'}\n    />\n    <p className='paragraph'>{songPage.item.description}</p>\n    <SoundPlayer />\n  </SongStyle>\n}\n\nconst SongStyle = styled.div`\n  background-color: #4D0202;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  display: flex;\n  flex-flow: column nowrap;\n  left: 0;\n  top: 0;\n  z-index: 10;\n  transition: transform .4s;\n  transform: translateX(${ props => props.isActive ? '0' : '100%'});\n  .paragraph {\n    width: 450px;\n    font-size: 2rem;\n    align-self: center;\n  }\n`;\n\n","import React, { createContext, useState, useRef } from 'react';\nimport Header from '../components/Header';\nimport PlayButton from '../components/PlayButton';\nimport SoundPlayer from '../components/SoundPlayer';\nimport songs from '../data/songs.json';\nimport SongPage from './SongPage';\n\nexport const CurrentTrackContext = createContext(null);\n\nfunction CurrentTrackProvider(props) {\n  const defaultSrc = './assets/audios/prece7linhas20min.mp3';\n  const soundPlayerRef = useRef(new Audio(defaultSrc));\n\n\n  const [currentTrackMetadata, setCurrentTrackMetadata] = useState({\n    activeItem: { id: 1, src: 'prece7linhas20min.mp3', title: 'Prece das 7 linhas' },\n    ended: false,\n    paused: true,\n    soundPlayerRef\n  });\n\n\n  return <CurrentTrackContext.Provider value={{ currentTrackMetadata, setCurrentTrackMetadata }} {...props}></CurrentTrackContext.Provider>\n}\n\nexport default function Main() {\n  const [songPage, setSongPage] = useState({ isActive: false, item: { ...songs.data[0] } });\n\n  return <>\n    <CurrentTrackProvider>\n      <Header>Sons Budistas</Header>\n      <div>\n        {songs.data.map(song =>\n          <PlayButton setSongPage={setSongPage} key={song.id} item={song}>{song.title}</PlayButton>\n        )}\n      </div>\n      <SoundPlayer />\n      <SongPage songPage={songPage} setSongPage={setSongPage} />\n    </CurrentTrackProvider>\n  </>;\n}","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n*,\n*::after,\n*::before {\n  margin: 0;\n  padding: 0;\n  box-sizing: inherit;\n}\n\nhtml {\n  font-size: 62.5%;\n}\nbody {\n  font-family: \"Lato\", sans-serif;\n  font-weight: 400;\n  /* font-size: 16px; */\n  line-height: 1.7;\n  color: #F2F2F2;\n  box-sizing: border-box;\n  background-color: #4D0202;\n}\n\n#root {\n  display: flex;\n  flex-direction: column;\n}\n`;","import React from 'react';\nimport Main from './pages/Main';\nimport AppShell from './components/AppShell';\n\nfunction App() {\n  return (\n    <>\n      <AppShell />\n      <Main />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}